#include <bits\stdc++.h>
using namespace std;

int minimumSwaps(vector<int> arr)
{
    int swap_count = 0;
    for (int i = arr.size() - 1; i >= 0; i--)
    {
        int index_to_swap = 0;
        for (int j = i; j >= 0; j--)
            if (arr[j] != (j + 1) && arr[j] > arr[index_to_swap])
                index_to_swap = j;
        if ((index_to_swap + 1) == arr[index_to_swap])
            break;
        swap(arr[index_to_swap], arr[arr[index_to_swap] - 1]);
        swap_count++;
    }
    return swap_count;
}

int main()
{
    vector<int> input1 = {4, 3, 1, 2};
    vector<int> input2 = {2, 3, 4, 1, 5};
    vector<int> input3 = {1, 3, 5, 2, 4, 6, 7};
    vector<int> input4 = {1, 2, 3, 10, 5, 6, 7, 8, 9, 4, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20};
    // vector<int> big_input = {10187, 42957, 5452, 86424, 36636, 66050, 88851, 39311, 62994, 86545, 69265, 30667, 41822, 51899, 69653, 23367, 71830, 81931, 53203, 13266, 61382, 37690, 829, 41002, 44109, 50462, 52055, 51306, 18836, 58605, 67957, 20217, 94264, 22500, 38491, 83663, 7017, 20319, 29403, 70960, 23649, 94923, 27718, 68227, 10814, 8728, 12011, 2640, 76438, 68638, 89464, 91530, 69155, 54984, 32431, 12764, 42132, 35757, 8351, 65998, 94136, 64498, 94919, 50787, 33748, 14970, 15073, 36440, 65198, 73855, 57023, 69484, 54138, 19477, 91752, 85731, 77983, 98315, 37464, 2790, 64361, 60620, 26436, 63812, 56422, 57377, 24449, 20956, 93688, 69148, 18591, 32193, 81737, 35932, 82501, 1037, 95850, 58356, 52212, 93642, 74941, 38103, 10275, 567, 64257, 92936, 26916, 69239, 56393, 46113, 99778, 91681, 60391, 46825, 63313, 18777, 76057, 50733, 81588, 42722, 42094, 725, 51814, 86485, 55616, 89502, 63185, 97516, 10700, 50301, 89633, 88934, 23059, 6129, 30153, 98569, 99072, 24508, 5447, 96421, 6649, 49628, 4743, 33636, 75181, 84812, 57487, 196, 28638, 38977, 45638, 13772, 50109, 45096, 26115, 94649, 49782, 87103, 70884, 6712, 59659, 22015, 62537, 90291, 33839, 34015, 72492, 40150, 748, 78959, 76876, 27937, 51434, 7907, 16719, 85365, 29893, 60229, 59146, 64367, 65587, 41615, 56656, 29262, 30694, 68427, 38667, 70002, 92991, 23617, 17736, 95830, 505, 44953, 16130, 88450, 65951, 14820, 86774, 86231, 25997, 81753, 55696, 56006, 71738, 65514, 3808, 7404, 71033, 15306, 37955, 30071, 20474, 36085, 13116, 45037, 4074, 46718, 39877, 25205, 13386, 93216, 3865, 82779, 2519, 55252, 34817, 71970, 81940, 46116, 47569, 96180, 35123, 89787, 27363, 76010, 55525, 21250, 28011, 52927, 38681, 46203, 65129, 56013, 38300, 83769, 90757, 16788, 77951, 52909, 75281, 43169, 49319, 76434, 20161, 72530, 89395, 82207, 8466, 66936, 40126, 79947, 62351, 3157, 84916, 23294, 63094, 99249, 53264, 98843, 9660};

    cout << minimumSwaps(input1) << endl; // 3
    cout << minimumSwaps(input2) << endl; // 3
    cout << minimumSwaps(input3) << endl; // 3
    cout << minimumSwaps(input4) << endl; //
    // cout << minimumSwaps(big_input) << endl; //

    return 0;
}